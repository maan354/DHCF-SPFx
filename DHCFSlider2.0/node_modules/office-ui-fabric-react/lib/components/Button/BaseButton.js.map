{"version":3,"sources":["components/Button/BaseButton.tsx"],"names":[],"mappings":"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","file":"components/Button/BaseButton.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  autobind,\r\n  BaseComponent,\r\n  css,\r\n  assign,\r\n  getId,\r\n  getNativeProps,\r\n  buttonProperties,\r\n  anchorProperties\r\n} from '../../Utilities';\r\nimport { DirectionalHint } from '../../common/DirectionalHint';\r\nimport { ContextualMenu, IContextualMenuProps } from '../../ContextualMenu';\r\nimport { IButtonProps, IButton } from './Button.Props';\r\nimport styles = require('./BaseButton.scss');\r\n\r\nexport interface IBaseButtonClassNames {\r\n  base: string;\r\n  variant: string;\r\n  isDisabled: string;\r\n  isEnabled: string;\r\n  description?: string;\r\n  flexContainer?: string;\r\n  icon?: string;\r\n  menuIcon?: string;\r\n  label?: string;\r\n  root?: string;\r\n}\r\n\r\nexport interface IBaseButtonState {\r\n  menuProps?: IContextualMenuProps | null;\r\n}\r\n\r\nexport class BaseButton extends BaseComponent<IButtonProps, IBaseButtonState> implements IButton {\r\n\r\n  protected classNames: IBaseButtonClassNames = {\r\n    base: 'ms-Button',\r\n    variant: '',\r\n    isEnabled: '',\r\n    isDisabled: ''\r\n  };\r\n\r\n  private _buttonElement: HTMLButtonElement;\r\n  private _labelId: string;\r\n  private _descriptionId: string;\r\n  private _ariaDescriptionId: string;\r\n\r\n  constructor(props: IButtonProps, rootClassName: string, deprecationMap: any) {\r\n    super(props);\r\n\r\n    this._warnDeprecations({ 'rootProps': null });\r\n\r\n    this._labelId = getId();\r\n    this._descriptionId = getId();\r\n    this._ariaDescriptionId = getId();\r\n    this.state = {\r\n      menuProps: null\r\n    };\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { description, ariaLabel, ariaDescription, href, disabled } = this.props;\r\n    const { _ariaDescriptionId, _labelId, _descriptionId } = this;\r\n    const renderAsAnchor: boolean = !!href;\r\n    const tag = renderAsAnchor ? 'a' : 'button';\r\n    const nativeProps = getNativeProps(\r\n      assign({}, this.props.rootProps, this.props),\r\n      renderAsAnchor ? anchorProperties : buttonProperties,\r\n      [\r\n        'disabled' // Let disabled buttons be focused and styled as disabled.\r\n      ]);\r\n\r\n    // Check for ariaDescription, description or aria-describedby in the native props to determine source of aria-describedby\r\n    // otherwise default to null.\r\n    let ariaDescribedBy;\r\n\r\n    if (ariaDescription) {\r\n      ariaDescribedBy = _ariaDescriptionId;\r\n    } else if (description) {\r\n      ariaDescribedBy = _descriptionId;\r\n    } else if (nativeProps['aria-describedby']) {\r\n      ariaDescribedBy = nativeProps['aria-describedby'];\r\n    } else {\r\n      ariaDescribedBy = null;\r\n    }\r\n\r\n    const buttonProps = assign(\r\n      nativeProps,\r\n      {\r\n        className: css(\r\n          styles.root,\r\n          this.props.className,\r\n          this.classNames.base,\r\n          this.classNames.variant,\r\n          this.classNames.root,\r\n          {\r\n            'disabled': disabled,\r\n            [this.classNames.isDisabled]: disabled,\r\n            [this.classNames.isEnabled]: !disabled\r\n          }),\r\n        ref: this._resolveRef('_buttonElement'),\r\n        'disabled': disabled,\r\n        'aria-label': ariaLabel,\r\n        'aria-labelledby': ariaLabel ? null : _labelId,\r\n        'aria-describedby': ariaDescribedBy,\r\n        'aria-disabled': disabled\r\n      }\r\n    );\r\n\r\n    // Override onClick if contextualMenuItems passed in. Eventually allow _onToggleMenu to\r\n    // be assigned to split button click if onClick already has a value\r\n    if (this.props.menuProps) {\r\n      assign(buttonProps, { 'onClick': this._onToggleMenu });\r\n    }\r\n\r\n    return this.onRenderContent(tag, buttonProps);\r\n  }\r\n\r\n  public focus(): void {\r\n    if (this._buttonElement) {\r\n      this._buttonElement.focus();\r\n    }\r\n  }\r\n\r\n  protected onRenderContent(tag: any, buttonProps: IButtonProps): JSX.Element {\r\n    let {\r\n      onRenderMenu = this._onRenderMenu,\r\n      onRenderMenuIcon = this._onRenderMenuIcon,\r\n      menuProps,\r\n      menuIconName\r\n    } = this.props;\r\n    return React.createElement(\r\n      tag,\r\n      buttonProps,\r\n      React.createElement('div', { className: css(this.classNames.base + '-flexContainer', styles.flexContainer, this.classNames.flexContainer) },\r\n        this.onRenderIcon(),\r\n        this.onRenderLabel(),\r\n        this.onRenderDescription(),\r\n        this.onRenderAriaDescription(),\r\n        this.onRenderChildren(),\r\n        (menuProps || menuIconName || this.props.onRenderMenuIcon) && onRenderMenuIcon(this.props, this._onRenderMenuIcon),\r\n        this.state.menuProps && onRenderMenu(menuProps, this._onRenderMenu)\r\n      ));\r\n  }\r\n\r\n  protected onRenderIcon() {\r\n    const { icon } = this.props;\r\n\r\n    return icon && (\r\n      <span className={ css(`${this.classNames.base}-icon`, this.classNames.icon) }>\r\n        <i className={ `ms-Icon ms-Icon--${icon}` } />\r\n      </span>\r\n    );\r\n  }\r\n\r\n  protected onRenderLabel() {\r\n    let { children, text } = this.props;\r\n\r\n    // For backwards compat, we should continue to take in the text content from children.\r\n    if (text === undefined && typeof (children) === 'string') {\r\n      text = children;\r\n    }\r\n\r\n    return text && (\r\n      <span className={ css(`${this.classNames.base}-label`, this.classNames.label) } id={ this._labelId } >\r\n        { text }\r\n      </span>\r\n    );\r\n  }\r\n\r\n  protected onRenderChildren() {\r\n    const { children } = this.props;\r\n\r\n    // If children is just a string, either it or the text will be rendered via onRenderLabel\r\n    // If children is another component, it will be rendered after text\r\n    if (typeof (children) === 'string') {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n\r\n  protected onRenderDescription() {\r\n    const { description } = this.props;\r\n\r\n    // ms-Button-description is only shown when the button type is compound.\r\n    // In other cases it will not be displayed.\r\n    return description ? (\r\n      <span\r\n        className={ css(`${this.classNames.base}-description`, this.classNames.description) }\r\n        id={ this._descriptionId }\r\n      >\r\n        { description }\r\n      </span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  protected onRenderAriaDescription() {\r\n    const { ariaDescription } = this.props;\r\n\r\n    // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan,\r\n    // otherwise it will be assigned to descriptionSpan.\r\n    return ariaDescription ? (\r\n      <span className={ styles.screenReaderOnly } id={ this._ariaDescriptionId }>{ ariaDescription }</span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  @autobind\r\n  protected _onRenderMenuIcon(props: IButtonProps): JSX.Element {\r\n    const { menuIconName = 'ChevronDown' } = props;\r\n\r\n    return (\r\n      <span className={ css(`${this.classNames.base}-icon`, this.classNames.menuIcon) }>\r\n        <i className={ `ms-Icon ms-Icon--${menuIconName}` } />\r\n      </span>\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  protected _onRenderMenu(menuProps: IContextualMenuProps): JSX.Element {\r\n    return (\r\n      <ContextualMenu\r\n        className={ css('ms-BaseButton-menuHost') }\r\n        isBeakVisible={ true }\r\n        directionalHint={ DirectionalHint.bottomLeftEdge }\r\n        items={ menuProps.items }\r\n        target={ this._buttonElement }\r\n        labelElementId={ this._labelId }\r\n        onDismiss={ this._onToggleMenu }\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  private _onToggleMenu() {\r\n    const { menuProps } = this.props;\r\n    let currentMenuProps = this.state.menuProps;\r\n\r\n    this.setState({ menuProps: currentMenuProps ? null : menuProps });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}